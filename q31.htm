<!DOCTYPE html>
<!-- saved from url=(0036)https://msft3c.com/compete/problem/6 -->
<html class=" js flexbox canvas canvastext webgl no-touch geolocation postmessage websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers applicationcache svg inlinesvg smil svgclippaths"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Learn | Microsoft College Code Competition (msft3c)</title>
    
    <meta name="description" content="Paragon">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="icon" href="https://www.microsoft.com/favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="https://www.microsoft.com/favicon.ico" type="image/x-icon">

    <link href="./q31_files/lib" rel="stylesheet">

    <link href="./q31_files/site" rel="stylesheet">

    
    
    <link rel="stylesheet" type="text/css" data-name="vs/editor/editor.main" href="./q31_files/editor.main.css"><link href="./q31_files/compete" rel="stylesheet">




    
    
        <script type="text/javascript">
            var appInsights = window.appInsights || function (config) {
                function r(config) { t[config] = function () { var i = arguments; t.queue.push(function () { t[config].apply(t, i) }) } } var t = { config: config }, u = document, e = window, o = "script", s = u.createElement(o), i, f; for (s.src = config.url || "//az416426.vo.msecnd.net/scripts/a/ai.0.js", u.getElementsByTagName(o)[0].parentNode.appendChild(s), t.cookie = u.cookie, t.queue = [], i = ["Event", "Exception", "Metric", "PageView", "Trace"]; i.length;) r("track" + i.pop()); return r("setAuthenticatedUserContext"), r("clearAuthenticatedUserContext"), config.disableExceptionTracking || (i = "onerror", r("_" + i), f = e[i], e[i] = function (config, r, u, e, o) { var s = f && f(config, r, u, e, o); return s !== !0 && t["_" + i](config, r, u, e, o), s }), t
            }({
                instrumentationKey: "0a0762d6-9bff-49fa-8750-18f208e969c8"
            });

            window.appInsights = appInsights;
            appInsights.trackPageView();
        </script><script src="./q31_files/ai.0.js"></script>
            <script type="text/javascript">
                window.appInsights && appInsights.setAuthenticatedUserContext("844627".replace(/[,;=| ]+/g, "_"));
            </script>
    <!--
        Third party scripts and code linked to or referenced from the Services
        are licensed to you by the third parties that own such code, and are not
        licensed by Microsoft other than for the purpose of viewing and interacting
        with the Service.
    -->
<script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="webapp/main" src="./q31_files/main.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="durandal/app" src="./q31_files/app.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="durandal/system" src="./q31_files/system.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="durandal/viewLocator" src="./q31_files/viewLocator.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="durandal/viewEngine" src="./q31_files/viewEngine.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="durandal/composition" src="./q31_files/composition.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="durandal/events" src="./q31_files/events.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="durandal/binder" src="./q31_files/binder.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="durandal/activator" src="./q31_files/activator.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="plugins/router" src="./q31_files/router.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="plugins/history" src="./q31_files/history.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="compete/index" src="./q31_files/index.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="compete/router" src="./q31_files/router(1).js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="text" src="./q31_files/text.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="compete/problem/index" src="./q31_files/index(1).js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="compete/problem/router" src="./q31_files/router(2).js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="models/problem" src="./q31_files/problem.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="models/modelfactory" src="./q31_files/modelfactory.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="models/problemSet" src="./q31_files/problemSet.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="models/cache" src="./q31_files/cache.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="models/error" src="./q31_files/error.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="compete/problem/details/learn" src="./q31_files/learn.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="compete/problem/list" src="./q31_files/list.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="compete/problem/details/index" src="./q31_files/index(2).js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="compete/problem/scoreboard" src="./q31_files/scoreboard.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="models/leaderboard" src="./q31_files/leaderboard.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="models/team" src="./q31_files/team.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="transitions/entrance" src="./q31_files/entrance.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="compete/problem/details/practice" src="./q31_files/practice.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="vs/editor/editor.main" src="./q31_files/editor.main.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="vs/nls" src="./q31_files/nls.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="vs/css" src="./q31_files/css.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="vs/editor/editor.main.nls" src="./q31_files/editor.main.nls.js"></script><style type="text/css" media="screen"></style><style type="text/css" media="screen"></style><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="compete/problem/details/earn" src="./q31_files/earn.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="models/attempt" src="./q31_files/attempt.js"></script></head>
<body cz-shortcut-listen="true">
    <div id="notices" style="display: none;">
    <div id="cookie-notice" class="notice">
        <span id="cookie-notice-text">
            By using this site you agree to the use of cookies for analytics and personalized content.
        </span>
        <a id="cookie-notice-close">
            <i id="cookie-icon" class="ms-Icon ms-Icon--xCircle"></i>
        </a>
    </div>
</div>

<header class="site">
    <h1>
        <a href="https://msft3c.com/">
            msft3c
        </a>
    </h1>

    <nav class="commands">
            <div class="me">
                <a id="expand-me" href="https://msft3c.com/compete/problem/6#"><span class="name">Kyle O'Connor</span><img src="./q31_files/picture" class="profile-picture small" alt="Your account profile image"></a>
                
<div id="popout-me">
    <img class="profile-picture large" src="./q31_files/picture">
    <form id="profile-form-inline" style="display: inline" novalidate="novalidate">
        <ul>
            <li>
                <span id="student-name" class="editable">
                    <span class="ms-TextField editable-input-container" style="display: none;">
                        <input class="ms-TextField-field editable-input" name="Name" value="Kyle O&#39;Connor">
                    </span>

                    <span class="editable-value">Kyle O'Connor</span>
                </span>
                <button id="pencil-button" class="command-buttons ms-Button ms-Button--command" type="button">
                    <span id="title-button-icon" class="ms-Button-icon"><i class="ms-Icon ms-Icon--pencil"></i></span>
                </button>
                <button id="save-button" class="command-buttons ms-Button ms-Button--command" style="display: none;" type="submit">
                    <span id="save-button-icon" class="ms-Button-icon"><i class="ms-Icon ms-Icon--save"></i></span>
                </button>
                <div id="loader" class="loader loader-sm" style="display: none" data-item-template="loader" data-subclass="loader" data-version="1.9.1">
                    <!-- add the loader-sm class for a smaller loader -->
                    <div class="circle"></div>
                    <div class="circle"></div>
                    <div class="circle"></div>
                    <div class="circle"></div>
                    <div class="circle"></div>
                </div>
            </li>

            <li>
                <div id="student-email" class="editable">
                    <div class="ms-TextField editable-input-container" style="display: none;">
                        <input class="ms-TextField-field editable-input" name="EMail" value="kyjoconn@ucsc.edu">
                    </div>

                    <span class="editable-value">kyjoconn@ucsc.edu</span>
                </div>
            </li>
            <li></li>
            <li>
                <div id="student-graddate" class="editable">
                    <div class="ms-TextField editable-input-container" style="display: none;">
                        <input class="ms-TextField-field editable-input" id="monthpicker-inline" name="GradMonthYear" value="12/2016">
                    </div>

                    <span class="editable-value">12/2016</span>
                </div>
            </li>
                <li class="presentation"></li>
                <li>Invictus</li>
                <li>Secret: <code>RueGEPe2</code></li>
<div id="first-time-callout" class="ms-Callout ms-Callout--OOBE ms-Callout--arrowRight">
    <div class="ms-Callout-main">
        <div class="ms-Callout-header ms-Callout-header--l ms-bgColor-purple">
            <p class="ms-Callout-title">Grow your team</p>
        </div>
        <div class="ms-Callout-inner">
            <div class="ms-Callout-content">
                <p class="ms-Callout-subText ms-Callout-subText--m">This secret is all others need to join your team.</p>
            </div>
            <div class="ms-Callout-actions">
                <button id="first-time-button" class="ms-Callout-button ms-Button ms-Button--primary">
                    <span class="ms-Button-label">Got it</span>
                </button>
            </div>
        </div>
    </div>
</div>        </ul>
    </form>
    <div class="action-center">
        <div class="button-group">
                <div class="popout-action"><a href="https://msft3c.com/compete/team/leave">Leave team</a></div>
            <div class="popout-action"><a href="https://msft3c.com/account/LogOff">Sign out</a></div>
        </div>
    </div>
</div>


            </div>
    </nav>
</header>
    


<div id="applicationHost" data-durandal-root="compete/index"><div id="compete-shell" data-view="compete/view/index" data-active-view="true">
    <!-- ko router --><div id="problem-index" data-view="compete/view/problem/index" data-active-view="true">
    <div class="left-bar" data-bind="compose: { model: &#39;compete/problem/list&#39;, transition: &#39;entrance&#39;, activationData: router }"><nav id="problem-list" class="list-view" data-view="compete/view/problem/list" data-active-view="true">
    <h2>Problems</h2>
    <ul data-bind="foreach: problemSetNav">
        <li>
            <h3 data-bind="text: pointValueHeader">1 point</h3>
            <ul data-bind="foreach: problems">
                <li data-bind="css: { active: id === $root.currentProblemId() }" class="">
                    <a data-bind="text: title, attr: { href: href }" href="https://msft3c.com/problem/0">Common characters</a>
                </li>
            
                <li data-bind="css: { active: id === $root.currentProblemId() }" class="">
                    <a data-bind="text: title, attr: { href: href }" href="https://msft3c.com/problem/1">Find missing numbers</a>
                </li>
            
                <li data-bind="css: { active: id === $root.currentProblemId() }" class="">
                    <a data-bind="text: title, attr: { href: href }" href="https://msft3c.com/problem/2">Xortholian Paintings</a>
                </li>
            </ul>
        </li>
    
        <li>
            <h3 data-bind="text: pointValueHeader">2 points</h3>
            <ul data-bind="foreach: problems">
                <li data-bind="css: { active: id === $root.currentProblemId() }" class="">
                    <a data-bind="text: title, attr: { href: href }" href="https://msft3c.com/problem/3">Shuttle</a>
                </li>
            
                <li data-bind="css: { active: id === $root.currentProblemId() }" class="">
                    <a data-bind="text: title, attr: { href: href }" href="https://msft3c.com/problem/4">Time Traveling Day Trader</a>
                </li>
            
                <li data-bind="css: { active: id === $root.currentProblemId() }" class="">
                    <a data-bind="text: title, attr: { href: href }" href="https://msft3c.com/problem/5">Top secret</a>
                </li>
            </ul>
        </li>
    
        <li>
            <h3 data-bind="text: pointValueHeader">3 points</h3>
            <ul data-bind="foreach: problems">
                <li data-bind="css: { active: id === $root.currentProblemId() }" class="active">
                    <a data-bind="text: title, attr: { href: href }" href="https://msft3c.com/problem/6">Synonym Tree</a>
                </li>
            
                <li data-bind="css: { active: id === $root.currentProblemId() }" class="">
                    <a data-bind="text: title, attr: { href: href }" href="https://msft3c.com/problem/7">Word sequence</a>
                </li>
            </ul>
        </li>
    </ul>
</nav></div>
    <div id="problem-details-index" class="main">
        <!-- ko compose { model: 'compete/problem/details/index', transition: 'entrance', activationData: router }--><nav data-view="compete/view/problem/details/index" data-active-view="true">
    <ul data-bind="foreach: router.navigationModel">
        <li data-bind="css: { active: isActive }" class="active">
            <a data-bind="attr: { href: hash() }, html: title" href="https://msft3c.com/problem/6/learn">Learn</a>
        </li>
    
        <li data-bind="css: { active: isActive }" class="">
            <a data-bind="attr: { href: hash() }, html: title" href="https://msft3c.com/problem/6/practice">Practice</a>
        </li>
    
        <li data-bind="css: { active: isActive }" class="">
            <a data-bind="attr: { href: hash() }, html: title" href="https://msft3c.com/problem/6/earn">Compete</a>
        </li>
    </ul>
    <!-- ko if: problem() -->
    <h2 data-bind="text: problemHeading()">Synonym Tree | 3 point(s)</h2>
    <!-- /ko -->
</nav><!-- /ko -->
        <!-- ko router: { transition:'entrance' } --><div id="problem-details-description" class="problem-details-view" data-view="compete/view/problem/details/learn" data-active-view="true">
    <!-- ko with: problem -->
    <!--
    <a href="#" class="ms-Button">Download</a>
    -->
    <div class="learn-content" data-bind="html: description"><p>Have you ever looked up a word for its synonyms, then looked up synonyms for the synonyms?
Let's define this as a <em>synonym tree</em>. The root node of the tree is the original word and is considered to be <em>level 0</em>. All synonyms of the root are its children and considered to be <em>level 1</em>. All synonyms of <em>level 1</em> nodes not already in the tree are considered to be <em>level 2</em> and so on.</p>
<p>For example, given the following <em>synonym list</em>:</p>
<p><strong>one</strong>: single, unique<br>
<strong>single</strong>: alone, unique<br>
<strong>unique</strong>: single, distinct<br></p>
<p>If the root node is <strong>one</strong>, the <em>level description</em> would be the following:</p>
<p><strong>one</strong> 0<br>
<strong>single</strong> 1<br>
<strong>unique</strong> 1<br>
<strong>alone</strong> 2<br>
<strong>distinct</strong> 2<br></p>
<p>We can further condense this by indicating the number of words at each level. In this case: <em>1 2 2</em>.</p>
<p>It is noted that had <strong>unique</strong> not been a synonym for <strong>single</strong>, the <em>level description</em> would have remained the
same. Further, if <em>word1</em> is a synonym of <em>word2</em>, <em>word2</em> does not need to be a synonym of <em>word1</em>.</p>
<p>Given the <em>condensed level description</em> for a set of words, determine the number of <em>synonym lists</em> that could
have generated it.</p>
<p>Due to the size of the numbers involved in the computation and to avoid complex data structures not available in all
languages, you should do all of your computations mod 1,000,000,007.</p>

</div>
    <h3>Input definition</h3>
    <div class="learn-content" data-bind="html: inputDescription"><p>The first line of input will be a single integer <em>N</em>, the number of levels in the <em>condensed level description</em>.
The next line will contain <em>N</em> space-separated integers always starting with a 1.
This will be the <em>condensed level description</em>.
There will be at most 10000 levels and at most 1,000,000,000 words per level.</p>

</div>
    <h3>Output definition</h3>
    <div class="learn-content" data-bind="html: outputDescription"><p>Your output should contain a single integer <em>C</em>, the number of <em>synonym lists</em> that could have generated the <em>condensed level description</em> under mod 1,000,000,007.</p>

</div>
    <h3>Example input</h3>
    <pre><code data-bind="text: sampleInput">2
1 2</code></pre>
    <h3>Example output</h3>
    <pre><code data-bind="text: sampleOutput">16</code></pre>
    <!-- /ko -->
    
<footer>
    <ul class="nav">
        <li><span class="copyright">© 2016 Microsoft</span></li>
        <li><a href="mailto:msft3c@microsoft.com" target="_blank">Contact us</a></li>
        <li><a href="https://msft3c.blob.core.windows.net/assets/rules/msft3c-rules.docx" target="_blank">Official rules</a></li>
        <li><a title="" href="http://www.microsoft.com/privacystatement/en-us/GlobalCareers/Default.aspx" target="_blank">Privacy and cookies</a></li>
        <li><a title="" href="http://go.microsoft.com/?linkid=4412892" target="_blank">Terms of use</a></li>
        <li><a title="" href="http://go.microsoft.com/?linkid=4412893" target="_blank">Trademarks</a></li>

    </ul>
</footer>
</div><!-- /ko -->
    </div>
    <aside class="right-bar" data-bind="compose: { model: &#39;compete/problem/scoreboard&#39;, transition: &#39;entrance&#39; }"><div id="compete-scoreboard" data-view="compete/view/problem/scoreboard" data-active-view="true">
    <div id="current-score">
        <h2>You have</h2>
        <h2 id="score" data-bind="text: currentScore">5</h2>
        <h2>pts</h2>
    </div>
    <h2>Top 3 teams</h2>
    <p data-bind="if: leaderboard().length == 0"></p>
    <ol data-bind="foreach: leaderboard" class="leaderboard">
        <li class="leaderboard">
            <span data-bind="text: teamName">teamname</span>
            <span>:</span>
            <span data-bind="text: points">15</span>
        </li>
    
        <li class="leaderboard">
            <span data-bind="text: teamName">ChineseSlug</span>
            <span>:</span>
            <span data-bind="text: points">8</span>
        </li>
    
        <li class="leaderboard">
            <span data-bind="text: teamName">Hung Ju Chen</span>
            <span>:</span>
            <span data-bind="text: points">8</span>
        </li>
    </ol>
    
</div></aside>
</div><!-- /ko -->
</div></div>





    <script src="./q31_files/lib-site"></script>

    <script type="text/javascript">
        if (navigator.userAgent.match(/IEMobile\/10\.0/)) {
            var msViewportStyle = document.createElement("style");
            var mq = "@-ms-viewport{width:auto!important}";
            msViewportStyle.appendChild(document.createTextNode(mq));
            document.getElementsByTagName("head")[0].appendChild(msViewportStyle);
        }
    </script>

    <script src="./q31_files/fabric"></script>

    <script src="./q31_files/site(1)"></script>

    
    
    
    <script src="./q31_files/lib-spa"></script>


    <script src="./q31_files/lib-app"></script>


    

    <script type="text/javascript">
        var Paragon = Paragon || {};
        Paragon.Configuration = {"CompeteStrings":{"ProblemList_SingularPointTitle":"point","ProblemList_PluralPointTitle":"points","ProblemView_Nav_Learn":"Learn","ProblemView_Nav_Practice":"Practice","ProblemView_Nav_Earn":"Compete","ProblemView_Nav_Try":"Try","ProblemView_Judge_BeginAttemptLabel":"Start submission (you have {0} remaining)","ProblemView_Judge_CorrectInputWarning":"Don\u0027t forget to download this submission\u0027s input text.","ProblemView_Judge_CodeRequiredLabel":"Please select a source code file to upload.","ProblemView_Judge_NotSubmittedTimeString":"Not submitted","ProblemView_Judge_OutOfTimeError_Format":"Time has expired for this submission. You have {0} attempts left.","ProblemView_Judge_OutputRequiredLabel":"You must paste your program\u0027s output here before submitting.","ProblemView_Judge_SubmitAttemptLabel":"Submit (you have {0} remaining)","ProblemView_PointValueLabel":"{0} point(s)","ProblemView_Test_Monaco_DefaultTestOutputText":"Paste your output here.","ProblemView_Test_SampleInputText":"Sample input {0}","ProblemView_Try_JudgeInputText":"Grading input {0}","Submissions_Status_Started_Label":"Started","Submissions_Status_Match_Label":"Correct","Submissions_Status_NotMatch_Label":"Incorrect","Submissions_Status_OutOfTime_Label":"Expired"},"ViewExtension":".html","IsDebuggingEnabled":false,"SubmissionTimeLimit":300000.0,"SiteStrings":{"SiteLayout_SiteTitle":"Microsoft College Code Competition (msft3c)"}};
        Paragon.RequireJsPaths = {"text":"/scripts/opensource/require/text","durandal":"/scripts/opensource/durandal","plugins":"/scripts/opensource/durandal/plugins","transitions":"/scripts/opensource/durandal/transitions","webapp":"/scripts/webapp","models":"/scripts/webapp/models","shared":"/scripts/webapp/shared","vs":"/scripts/lib/monaco/vs","compete":"/scripts/webapp/compete","compete/view":"compete/view","recruiter":"/scripts/webapp/recruiter","recruit/view":"recruit/view","admin":"/scripts/webapp/admin","admin/view":"admin/view"};

        var require = {
            baseUrl: '/',
            paths: Paragon.RequireJsPaths,
            config: {
                text: {
                    onXhr: function (xhr, url) {
                        xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');
                        return xhr;
                    }
                }
            }
        };
    </script>
    <script src="./q31_files/require.js" data-main="webapp/main"></script>

    

    <script type="text/javascript">
        if (define) {
            define('jquery', function () { return jQuery; });
            define('knockout', ko);

            
            define('bluebird', function () { return Promise; });
        }
    </script>


    <!-- Served By: msft3cWebRole_IN_0 -->

</body></html>